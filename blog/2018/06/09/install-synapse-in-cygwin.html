<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/css/main.css"/><link rel="shortcut icon" href="/images/favicon.png"/><title>在Cygwin中安装Synapse</title></head><body><header><span id="site-name"><a href="/">dram.me</a></span><nav><ul><li><a href="/blog/about.html">About</a></li><li><a href="/logo/">LOGO</a></li></ul></nav></header><article><h1>在Cygwin中安装Synapse</h1><time>09 Jun 2018</time>


<p><a href="https://github.com/matrix-org/synapse">Synapse</a>是<a href="https://matrix.org/">Matrix</a>的参考homeserver实现，在Cygwin中安装Synapse和其他系统类似，除了安装<a href="https://github.com/matrix-org/synapse#windows-install">这里</a>提到的一些依赖包外，还需要做如下操作:</p>
<ul>
<li>
<p>安装python2-devel；</p>
</li>
<li>
<p>将<code>path/to/synapse-sources/setup.py</code>中参数<code>include_conditional</code>值更改为<code>False</code>；</p>
</li>
<li>
<p>下载<a href="https://pypi.org/project/virtualenv/#files">virtualenv</a>，并解压；</p>
</li>
<li>
<p>运行<code>path/to/virtualenv-sources/virtualenv.py synapse-env</code>，生成虚拟环境；</p>
</li>
<li>
<p>运行<code>source synapse-env/bin/activate</code>，载入虚拟环境；</p>
</li>
<li>
<p>运行<code>pip install path/to/synapse-sources</code>，编译安装Synapse；</p>
</li>
<li>
<p>运行<code>pip install matrix_angular_sdk</code>，安装客户端。</p>
</li>
</ul>
<p>其中修改<code>setup.py</code>文件是为规避Synapse 0.31.1中的一个依赖包处理问题，详见<a href="https://github.com/matrix-org/synapse/issues/3375">这里</a>。</p>
</article><footer><p>Copyright © 2007–2018 Xin Wang</p></footer></body></html>
