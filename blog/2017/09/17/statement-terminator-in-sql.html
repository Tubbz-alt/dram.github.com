<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/css/main.css"/><link rel="shortcut icon" href="/images/favicon.png"/><title>SQL中的语句结束符</title></head><body><header><span id="site-name"><a href="/">dram.me</a></span><nav><ul><li><a href="/blog/about.html">About</a></li><li><a href="/logo/">LOGO</a></li></ul></nav></header><article><h1>SQL中的语句结束符</h1><time>17 Sep 2017</time>


<p>在PostgreSQL和MySQL中，除了使用分号<code>;</code>结束语句外，都还可以使用<code>\g</code>结束，另外MySQL还支持用<code>\G</code>结束语句并按列显示结果。</p>
<p>翻看标准，在<a href="https://www.contrib.andrew.cmu.edu/~shadow/sql/sql1992.txt">SQL-92</a>中只定义了<code>;</code>，并没有<code>\g</code>的说明。而在最早的<a href="http://www.almaden.ibm.com/cs/people/chamberlin/sequel-1974.pdf">SQUEL</a>论文中，有提及使用<code>;</code>作为语句结束符，只是语义和当前SQL有些不同，例如在SEQUEL中，<code>;</code>可以作为子查询的结束符，而在SQL中，则是由括号分隔子查询。</p>
<p>在阅读Postgre95的代码时看到，当时就已经同时支持了<code>\g</code>和<code>;</code>。但在更早的PostgreSQL的前身<a href="http://db.cs.berkeley.edu/postgres.html">POSTGRES</a>的代码中，只支持<code>\g</code>，不支持<code>;</code>，其中指明了<code>g</code>是GO的缩写（见v4.2版本的<code>src/bin/monitor/monitor.c</code>文件）。</p>
<p>由于POSTGRES和SQL两者的发展相对独立，直到Postgres95才将SQL整合到POSTGRES中，可以猜测<code>;</code>是SQL的分隔符，而<code>\g</code>则来自POSTGRES或者更早期的数据库管理系统。</p>
</article><footer><p>Copyright © 2007–2018 Xin Wang</p></footer></body></html>
