<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/css/main.css"/><link rel="shortcut icon" href="/images/favicon.png"/><title>正则引擎的greedy模式</title></head><body><header><span id="site-name"><a href="/">dram.me</a></span><nav><ul><li><a href="/blog/about.html">About</a></li><li><a href="/logo/">LOGO</a></li></ul></nav></header><article><h1>正则引擎的greedy模式</h1><time>26 Oct 2017</time>

<p>在Tcl中遇到正则的一个问题：</p>
<pre><code>% regexp -inline {(.+?), (.+)} "foo, bar"
{foo, b} foo b</code></pre>
<p>一开始以为是bug，之后发现这个问题早已被多次提出，例如<a href="https://core.tcl.tk/tcl/tktview?name=219219">这里</a>、<a href="https://core.tcl.tk/tcl/tktview?name=219358">这里</a>，还有<a href="https://core.tcl.tk/tcl/tktview?name=2798939">这里</a>。</p>
<p>而实际上，Tcl的文档中也greedy和non-greedy有<a href="http://www.tcl.tk/man/tcl8.6/TclCmd/re_syntax.htm">说明</a>。另外，PostgreSQL和Tcl基于同一个正则引擎，所以在greedy模式上的处理上是相同的，文档中对此有详细的<a href="https://www.postgresql.org/docs/10/static/functions-matching.html#functions-posix-regexp">介绍</a>（9.7.3.5. Regular Expression Matching Rules）。</p>
</article><footer><p>Copyright © 2007–2017 Xin Wang</p></footer></body></html>
