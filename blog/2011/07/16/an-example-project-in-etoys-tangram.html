<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/css/main.css"/><link rel="shortcut icon" href="/images/favicon.png"/><title>Etoys作品制作示例（七巧板）</title></head><body><header><span id="site-name"><a href="/">dram.me</a></span><nav><ul><li><a href="/blog/about.html">About</a></li><li><a href="/logo/">LOGO</a></li></ul></nav></header><article><h1>Etoys作品制作示例（七巧板）</h1><time>16 Jul 2011</time>


<section>
<h2>引言</h2>

<p>本文主要以七巧板拼图游戏的制作为例来介绍Etoys的一些基本操作以及创建作品的基本流程。</p>
<p>七巧板是一个简单的拼图游戏，因为比较普及，这里不再多作介绍。关于七巧板的制作，可以先参考<a href="http://www.hudong.com/wiki/%E4%B8%83%E5%B7%A7%E6%9D%BF">互动百科</a>的介绍，主要是将一个方形纸片分为16个方格，再根据一些交点间的连线对纸片进行裁剪，如下图所示：</p>
<img src="/images/2011-07-12-tangram.png" alt="&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x56FE;&#xFF08;&#x5206;&#x6563;&#xFF09;"/>
<p>下面介绍的在Etoys中的制作七巧板的方法会稍有些不同，但大部分步骤是相似的，如果对七巧板不熟悉的话，可以先尝试用纸片制作。</p>
</section>
<section>
<h2>形状</h2>

<p>最终我们需要将七巧板中的七块板分别用Etoys中的七个物体表示，在开始前，我们先来看一下这七块板的形状。</p>
<img src="/images/2011-07-12-splitted-tangram.png" alt="&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x56FE;&#xFF08;&#x5206;&#x6563;&#xFF09;"/>
<p>从图中可以看出七巧板的形状有三类：三角形、正方形以及平行四边形。在Etoys中，这些形状可以统一使用“多边形”物体来表示。</p>
<p>通过以下方式可以得到一个多边形：百宝箱 -&gt; 物体目录簿 -&gt; 多边形。</p>
</section>
<section>
<h2>作品</h2>

<p>Etoys是一个创作环境，在Etoys中我们可以创建新的作品、保存作品、载入和修改先前保存的作品。通过Etoys首页的“新建一个作品”链接可以创建一个新的作品，通过Etoys界面右上角的“载入”和“发布”按钮可以保存或是打开作品，如下图所示：</p>
<img src="/images/2011-07-12-create-save-and-load-projects.png" alt="&#x65B0;&#x5EFA;&#x3001;&#x4FDD;&#x5B58;&#x53CA;&#x8F7D;&#x5165;&#x4F5C;&#x54C1;"/>
<p>在发布作品时可以指定名称、描述等信息。发布的作品，可以直接保存到<a href="http://squeakland.org">squeakland</a>中，也可以保存到本地磁盘。</p>
<section>
<h3>运动场</h3>

<p>“运动场”是Etoys中的一个基本概念，它是一个容器，所有物体都在某一个运动场中运动。在Etoys作品中，整个屏幕就是一个最大的运动场，可以对运动场进行一些设置，比如在这里，我们就需要打开运动场的网格功能，这样可以对七巧板各块形状的大小进行精确控制。</p>
<p>具体设置方法如下，在作品的空白区域点击鼠标右键，再点击光晕菜单中的白色按钮，将会打开一份“世界”菜单，其中最后一项就是“运动场选项”，单击之后就可以显示运动场选项菜单了，如下图所示：</p>
<img src="/images/2011-07-16-world-menu.png" alt="&#x4E16;&#x754C;&#x83DC;&#x5355;"/>
<img src="/images/2011-07-16-playfield-menu.png" alt="&#x8FD0;&#x52A8;&#x573A;&#x9009;&#x9879;&#x83DC;&#x5355;"/>
<p>在菜单中选中“在网格启用时显示网格”和“使用网格”选项即可开启和显示网格。</p>
</section>
</section>
<section>
<h2>基础</h2>

<section>
<h3>基本操作</h3>

<p>对于物体的基本操作主要通过物体的光晕菜单进行，如下图所示。蓝色是旋转按钮，黄色是缩放按钮，绿色是复制按钮，褐色是移动按钮。通过鼠标拖动这些按钮就可以执行相应动作。</p>
<img src="/images/2011-07-16-object-basic-operations.png" alt="&#x7269;&#x4F53;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x5149;&#x6655;&#x83DC;&#x5355;"/>
<p>针对多边形物体，还可以对它的各个顶点进行调整。调整手柄可以通过菜单项中的“显示控制手柄”打开，也可以按住Shift键再点击多边形物体显示手柄，最终效果如下图所示。其中蓝色的是顶点游标，黄色的是顶点，绿色小三角用于新增顶点。顶点游标在脚本控制中才会被使用到，现在可以将它等同于普通顶点。</p>
<img src="/images/2011-07-16-polygon-handles.png" alt="&#x591A;&#x8FB9;&#x5F62;&#x63A7;&#x5236;&#x624B;&#x67C4;"/>
<p>单击绿色三角可以增加顶点，移动顶点与相邻顶点重合，可以删除该顶点。</p>
</section>
<section>
<h3>基本属性</h3>

<p>物体的基本属性可以通过物体的观察器查看，观察器通过物体光晕菜单中的青色按钮打开。如下图所示：</p>
<img src="/images/2011-07-16-polygon-viewer.png" alt="&#x591A;&#x8FB9;&#x5F62;&#x89C2;&#x5BDF;&#x5668;"/>
<p>上半部分中的X，Y，以及方向是所有物体的基本属性。X和Y表示物体在屏幕（运动场）中的具体位置，方向表示物体的朝向。X和Y的值在移动物体时会动态的更新，而方向的值则是在旋转物体时被更新。</p>
<p>下半部分是多边形所特有的属性，其中包括顶点数、各顶点位置等。</p>
</section>
<section>
<h3>边框与颜色</h3>

<p>在Etoys中，可以对多边形的边框以及填充颜色进行设置，如下图所示。这里我们不需要边框，可以将边框颜色设置为透明，而填充颜色可以随意选择，比如这里选择了彩虹的七色：红、橙、黄、绿、青、蓝、紫。</p>
<img src="/images/2011-07-16-polygon-menu.png" alt="&#x591A;&#x8FB9;&#x5F62;&#x83DC;&#x5355;"/>
</section>
<section>
<h3>复制物体</h3>

<p>上面已经提到，七巧板中的七块形状在Etoys可以统一使用多边形物体表示，而且这七块形状有些属性是相同的，比如边框透明。所以，这里可以通过Etoys中的物体复制功能更为快捷地创建物体。</p>
<p>方法是点击多边形光晕菜单的复制按钮。</p>
</section>
</section>
<section>
<h2>制作</h2>

<p>通过上面对基本操作的介绍，已经不难制作出七巧板中的各个图形了，对于具体的流程这里就不再做介绍，留待读者自己探索。</p>
<p><a href="/data/tangram.004.pr">这里</a>是一份示例作品，可以作为参考。</p>
</section>
<section>
<h2>游戏</h2>

<p>在制作完成后，如果尝试利用这个七巧板去拼摆图形，可能会遇到一个困难，就比如下面的图形：</p>
<img src="/images/2011-07-16-tangram-example.png" alt="&#x793A;&#x4F8B;"/>
<p>其中紫色的平行四边形的倾斜方向与我们制作的方向是不同的，而这个方向无法通过旋转物体进行调节，这里通过编写翻转脚本来解决。由于脚本编写涉及内容较复杂，所以留待以后再作介绍。下面是这脚本的内容，有兴趣的读者可以先行了解。</p>
<img src="/images/2011-07-16-polygon-flap.png" alt="&#x591A;&#x8FB9;&#x5F62;&#x7FFB;&#x8F6C;"/>
</section>
</article><footer><p>Copyright © 2007–2019 Xin Wang</p></footer></body></html>
