<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/css/main.css"/><link rel="shortcut icon" href="/images/favicon.png"/><title>开机启动程序中的PATH环境变量</title></head><body><header><span id="site-name"><a href="/">dram.me</a></span><nav><ul><li><a href="/blog/about.html">About</a></li><li><a href="/logo/">LOGO</a></li></ul></nav></header><article><h1>开机启动程序中的PATH环境变量</h1><time>03 Aug 2010</time>

<p>在开发中已经遇到许多次因PATH引起的问题了。在随系统启动的程序中间接调用其它程序时，如果没有指定完整的路径，很可能会出现找不到程序的错误。如果程序写得不严谨，没有做错误检查，这个bug就会变得很隐蔽。</p>
<p>因为程序在开发调试时，是在当前工作的SHELL下执行程序的，此时的PATH一般会比较完整。而在随机启动时，有可能启动脚本没有指定PATH，这就导致开发环境与真实环境的不同。</p>
<p>在Linux中，如果PATH没有定义，默认只会去找/bin及/usr/bin下的程序。<a href="http://www.opengroup.org/onlinepubs/009695399/basedefs/xbd_chap08.html">POSIX</a>中也没有对此作明确规定。BSD又不相同，详见各系统的exec(3)。</p>
<p>而exec与system在执行程序时又不相同，sh在PATH没有定义时又是如何处理的？</p>
<p>综合考虑，除非有特殊需求，一般还是用全路径比较安全。</p>
</article><footer><p>Copyright © 2007–2017 Xin Wang</p></footer></body></html>
