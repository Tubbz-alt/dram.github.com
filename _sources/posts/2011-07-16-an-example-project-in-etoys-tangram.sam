article: Etoys作品制作示例（七巧板）

	section: 引言

		本文主要以七巧板拼图游戏的制作为例来介绍Etoys的一些基本操作以及创建作品的基本流程。

		七巧板是一个简单的拼图游戏，因为比较普及，这里不再多作介绍。关于七巧板的制作，可以先参考{互动百科}(http://www.hudong.com/wiki/%E4%B8%83%E5%B7%A7%E6%9D%BF)的介绍，主要是将一个方形纸片分为16个方格，再根据一些交点间的连线对纸片进行裁剪，如下图所示：

		>>>(image /images/2011-07-12-tangram.png)(#最终结果图（分散）)

		下面介绍的在Etoys中的制作七巧板的方法会稍有些不同，但大部分步骤是相似的，如果对七巧板不熟悉的话，可以先尝试用纸片制作。


	section: 形状

		最终我们需要将七巧板中的七块板分别用Etoys中的七个物体表示，在开始前，我们先来看一下这七块板的形状。

		>>>(image /images/2011-07-12-splitted-tangram.png)(#最终结果图（分散）)

		从图中可以看出七巧板的形状有三类：三角形、正方形以及平行四边形。在Etoys中，这些形状可以统一使用“多边形”物体来表示。

		通过以下方式可以得到一个多边形：百宝箱 -&gt; 物体目录簿 -&gt; 多边形。


	section: 作品

		Etoys是一个创作环境，在Etoys中我们可以创建新的作品、保存作品、载入和修改先前保存的作品。通过Etoys首页的“新建一个作品”链接可以创建一个新的作品，通过Etoys界面右上角的“载入”和“发布”按钮可以保存或是打开作品，如下图所示：

		>>>(image /images/2011-07-12-create-save-and-load-projects.png)(#新建、保存及载入作品)

		在发布作品时可以指定名称、描述等信息。发布的作品，可以直接保存到{squeakland}(http://squeakland.org)中，也可以保存到本地磁盘。

		section: 运动场

			“运动场”是Etoys中的一个基本概念，它是一个容器，所有物体都在某一个运动场中运动。在Etoys作品中，整个屏幕就是一个最大的运动场，可以对运动场进行一些设置，比如在这里，我们就需要打开运动场的网格功能，这样可以对七巧板各块形状的大小进行精确控制。

			具体设置方法如下，在作品的空白区域点击鼠标右键，再点击光晕菜单中的白色按钮，将会打开一份“世界”菜单，其中最后一项就是“运动场选项”，单击之后就可以显示运动场选项菜单了，如下图所示：

			>>>(image /images/2011-07-16-world-menu.png)(#世界菜单)
			>>>(image /images/2011-07-16-playfield-menu.png)(#运动场选项菜单)

			在菜单中选中“在网格启用时显示网格”和“使用网格”选项即可开启和显示网格。

	section: 基础

		section: 基本操作

			对于物体的基本操作主要通过物体的光晕菜单进行，如下图所示。蓝色是旋转按钮，黄色是缩放按钮，绿色是复制按钮，褐色是移动按钮。通过鼠标拖动这些按钮就可以执行相应动作。

			>>>(image /images/2011-07-16-object-basic-operations.png)(#物体基本操作光晕菜单)

			针对多边形物体，还可以对它的各个顶点进行调整。调整手柄可以通过菜单项中的“显示控制手柄”打开，也可以按住Shift键再点击多边形物体显示手柄，最终效果如下图所示。其中蓝色的是顶点游标，黄色的是顶点，绿色小三角用于新增顶点。顶点游标在脚本控制中才会被使用到，现在可以将它等同于普通顶点。

			>>>(image /images/2011-07-16-polygon-handles.png)(#多边形控制手柄)

			单击绿色三角可以增加顶点，移动顶点与相邻顶点重合，可以删除该顶点。

		section: 基本属性

			物体的基本属性可以通过物体的观察器查看，观察器通过物体光晕菜单中的青色按钮打开。如下图所示：

			>>>(image /images/2011-07-16-polygon-viewer.png)(#多边形观察器)

			上半部分中的X，Y，以及方向是所有物体的基本属性。X和Y表示物体在屏幕（运动场）中的具体位置，方向表示物体的朝向。X和Y的值在移动物体时会动态的更新，而方向的值则是在旋转物体时被更新。

			下半部分是多边形所特有的属性，其中包括顶点数、各顶点位置等。

		section: 边框与颜色

			在Etoys中，可以对多边形的边框以及填充颜色进行设置，如下图所示。这里我们不需要边框，可以将边框颜色设置为透明，而填充颜色可以随意选择，比如这里选择了彩虹的七色：红、橙、黄、绿、青、蓝、紫。

			>>>(image /images/2011-07-16-polygon-menu.png)(#多边形菜单)

		section: 复制物体

			上面已经提到，七巧板中的七块形状在Etoys可以统一使用多边形物体表示，而且这七块形状有些属性是相同的，比如边框透明。所以，这里可以通过Etoys中的物体复制功能更为快捷地创建物体。

			方法是点击多边形光晕菜单的复制按钮。

	section: 制作

		通过上面对基本操作的介绍，已经不难制作出七巧板中的各个图形了，对于具体的流程这里就不再做介绍，留待读者自己探索。

		{这里}(/data/tangram.004.pr)是一份示例作品，可以作为参考。

	section: 游戏

		在制作完成后，如果尝试利用这个七巧板去拼摆图形，可能会遇到一个困难，就比如下面的图形：

		>>>(image /images/2011-07-16-tangram-example.png)(#示例)

		其中紫色的平行四边形的倾斜方向与我们制作的方向是不同的，而这个方向无法通过旋转物体进行调节，这里通过编写翻转脚本来解决。由于脚本编写涉及内容较复杂，所以留待以后再作介绍。下面是这脚本的内容，有兴趣的读者可以先行了解。

		>>>(image /images/2011-07-16-polygon-flap.png)(#多边形翻转)
